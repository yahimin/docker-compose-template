<!DOCTYPE html>
{% load static %}
<html>
<head>
    <title>Hello</title>
</head>

<head>
    <link rel="stylesheet" href='static/css/view.css'>
</head>


<body>
    <h1>Login View</h1>

    <form id='myform' method = 'post' action = 'api/signin'>
        {% csrf_token %}
        <label for="email"> your email : </label>
        <input id="email" type="text" name="email"></input>
        
        <label for="password"> your password : </label>
        <input id="password" type="password" name="password"></input>

        <input type="submit" value="submit"/>
    </form>

    {% comment %} <script>
        function postFetch() {
    
            const email = document.querySelector('#email')
            const password = document.querySelector('#password')
            
            console.log(email)
            console.log(password)
            document.querySelector('#myform').addEventListener("submit", (event) => {
                event.preventDefault(); 
                fetch('http://localhost:8000/change/api/update',{
                    method : 'POST',
    
                    headers: {
                        'Content-Type': 'application/json' 
                    },
    
                    body : JSON.stringify({
                        email : email
                        password : password
                    })
                })
                .then((responnse)=>responnse.json())
                .then((data)=>{
                    console.log('서버 응답' , data)
                    alert('폼 성공적으로 제출')
                })
                .catch((err)=>{
                    alert('폼에러')
                })
    
            });
        }
    
        postFetch();
    </script> {% endcomment %}
</body>
</html>